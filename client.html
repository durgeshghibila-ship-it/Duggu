<!DOCTYPE html>
<html>
<head>
  <title>Audio Client</title>
</head>
<body>
  <h2>Android Audio Client</h2>
  <textarea id="offer" placeholder="Paste server offer here" rows="5" cols="60"></textarea>
  <button id="connect">Connect</button>
  <pre id="log"></pre>
  <audio id="player" autoplay controls></audio>

  <script>
    const pc = new RTCPeerConnection();
    const offerBox = document.getElementById("offer");
    const connectBtn = document.getElementById("connect");
    const log = document.getElementById("log");
    const player = document.getElementById("player");

    pc.ontrack = e => player.srcObject = e.streams[0];

    connectBtn.onclick = async () => {
      try {
        const offer = JSON.parse(atob(offerBox.value));
        await pc.setRemoteDescription(offer);
        const answer = await pc.createAnswer();
        await pc.setLocalDescription(answer);
        log.textContent = btoa(JSON.stringify(answer)); // show short base64 answer
        alert("âœ… Copy this answer and paste back on server.");
      } catch (err) {
        alert("Error: " + err.message);
      }
    };
  </script>
</body>
</html>
