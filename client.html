<!DOCTYPE html>
<html>
<head>
  <title>Audio Client</title>
</head>
<body>
  <h2>Android Audio Client</h2>
  <textarea id="offer" placeholder="Paste server offer here"></textarea>
  <button id="connect">Connect</button>
  <pre id="answer"></pre>
  <audio id="player" autoplay controls></audio>

  <script>
    let pc = new RTCPeerConnection();
    let offerBox = document.getElementById("offer");
    let connectBtn = document.getElementById("connect");
    let answerBox = document.getElementById("answer");
    let player = document.getElementById("player");

    pc.ontrack = e => player.srcObject = e.streams[0];

    connectBtn.onclick = async () => {
      let offer = JSON.parse(offerBox.value);
      await pc.setRemoteDescription(offer);
      let answer = await pc.createAnswer();
      await pc.setLocalDescription(answer);
      answerBox.textContent = JSON.stringify(answer);
    };
  </script>
</body>
</html>
